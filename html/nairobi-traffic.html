<html>
<head>
<title>
</title>


<script>
var camera = new Array();

camera["kenyatta"] = new Array();
camera["kenyatta"]["name"] = "Kenyatta Ave roundabout";
camera["kenyatta"]["url"] = "http://traffic.accesskenya.com/images/traffic/feeds/barclaysplaza.jpg";

camera["museum"] = new Array();
camera["museum"]["name"] = "Museum Hill Flyover";
camera["museum"]["url"] = "http://traffic.accesskenya.com/images/traffic/feeds/purshotam.jpg";

camera["sarit"] = new Array();
camera["sarit"]["name"] = "Sarit Center";
camera["sarit"]["url"] = "http://traffic.accesskenya.com/images/traffic/feeds/saritroundabout.jpg";


function loadInput() {

  for (var key in camera)
	{
		document.getElementById("input").innerHTML+="<input type='checkbox' id='" +
		key + 
		"_chk' onclick=enableImage(\"" +
		key +
		"\")>" +
		camera[key]["name"];

		document.getElementById("images").innerHTML+="<div id='" +
		key +
		"'></div>";

	}
}


function enableImage(selection){

	if(document.getElementById(selection + "_chk").checked==true){
		document.getElementById(selection).innerHTML="<h3>" + 
		camera[selection]["name"] +
		"</h3><img src=\"" +
		camera[selection]["url"]  +
		"\" />";
	}
	else {
	document.getElementById(selection).innerHTML="";
	}
}

</script>

</head>


<body style="text-align: center;" onload=loadInput()>
	<div id="input">
	</div>
	
	<div id="images">
	</div>

<script>
  setInterval(function() {
      var images = document.images;
      for (var i=0; i<images.length; i++) {
          images[i].src = images[i].src.replace(/\btime=[^&]*/, 'time=' + new Date().getTime());
      }
  }, 10000); // 10000 milliseconds = 10 seconds
</script>

</body>
</html>
